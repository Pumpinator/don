{% extends "layouts/auth.html" %}

{% block title %}Crear Compra - DON GALLETO{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-6">
    <h1 class="text-2xl font-bold mb-4">Crear Compra</h1>
    <form action="{{ url_for('principal.compra.crear_compra') }}" method="POST" class="space-y-4">
        <!-- Proveedor -->
        <div>
            <label class="block text-gray-700 font-bold">Proveedor</label>
            <select name="proveedor_id" class="w-full p-3 rounded-lg border" required>
                <option value="" disabled selected>Seleccione un proveedor...</option>
                {% for proveedor in proveedores %}
                <option value="{{ proveedor.id }}">{{ proveedor.nombre }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Fecha -->
        <div>
            <label class="block text-gray-700 font-bold">Fecha</label>
            <input type="date" name="fecha" class="w-full p-3 rounded-lg border" required>
        </div>

        <!-- Total -->
        <div>
            <label class="block text-gray-700 font-bold">Total</label>
            <input type="number" step="0.01" name="total" class="w-full p-3 rounded-lg border" placeholder="Ingrese el total de la compra" required>
        </div>

        <!-- Insumos -->
        <div>
            <label class="block text-gray-700 font-bold">Insumos</label>
            <select name="insumo_id[]" class="w-full p-3 rounded-lg border" multiple required>
                {% for insumo in insumos %}
                <option value="{{ insumo.id }}">{{ insumo.nombre }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Cantidades -->
        <div>
            <label class="block text-gray-700 font-bold">Cantidades</label>
            <input type="text" name="cantidades" class="w-full p-3 rounded-lg border" placeholder="Ingrese cantidades separadas por comas (e.g., 10,5,20)" required>
        </div>

        <!-- Precios Unitarios -->
        <div>
            <label class="block text-gray-700 font-bold">Precios Unitarios</label>
            <input type="text" name="precios_unitarios" class="w-full p-3 rounded-lg border" placeholder="Ingrese precios unitarios separados por comas (e.g., 50.00,30.00,20.00)" required>
        </div>

        <!-- Medidas -->
        <div>
            <label class="block text-gray-700 font-bold">Medidas</label>
            <select name="medida_id[]" class="w-full p-3 rounded-lg border" multiple required>
                {% for medida in medidas %}
                <option value="{{ medida.id }}">{{ medida.nombre }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Fechas de Expiración -->
        <div>
            <label class="block text-gray-700 font-bold">Fechas de Expiración</label>
            <input type="text" name="fechas_expiracion" class="w-full p-3 rounded-lg border" placeholder="Ingrese fechas separadas por comas (e.g., 2025-12-01,2026-01-15,2024-10-10)" required>
        </div>

        <!-- Botones -->
        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-lg">Guardar</button>
    </form>
</div>
{% endblock %}